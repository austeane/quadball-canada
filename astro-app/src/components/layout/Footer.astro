---
import type { Locale } from "../../utils/localization";

const props = Astro.props as { locale?: Locale } | undefined;
const locale: Locale = props?.locale ?? (Astro.url.pathname.startsWith("/fr/") ? "fr" : "en");

const copy = locale === "fr"
  ? {
      getInvolved: "S'impliquer",
      findTeam: "Trouver une equipe",
      hostEvent: "Organiser un evenement",
      levels: "Niveaux de jeu",
      volunteer: "Benevolat",
      explore: "Explorer",
      about: "A propos",
      news: "Nouvelles",
      events: "Evenements",
      rules: "Regles",
      followUs: "Nous suivre",
      contactUs: "Nous joindre",
    }
  : {
      getInvolved: "Get Involved",
      findTeam: "Find a Team",
      hostEvent: "Host an Event",
      levels: "Levels of Play",
      volunteer: "Volunteer",
      explore: "Explore",
      about: "About",
      news: "Latest News",
      events: "Events",
      rules: "Rules",
      followUs: "Follow Us",
      contactUs: "Contact Us",
    };

const routes = {
  teams: locale === "fr" ? "/fr/equipes/" : "/teams/",
  hostEvent: locale === "fr" ? "/fr/simpliquer/organiser-un-evenement/" : "/get-involved/host-an-event/",
  levels: locale === "fr" ? "/fr/simpliquer/niveaux-de-jeu/" : "/get-involved/levels-of-play/",
  volunteer: locale === "fr" ? "/fr/benevolat/" : "/volunteer-opportunities/",
  about: locale === "fr" ? "/fr/a-propos/" : "/about/",
  news: locale === "fr" ? "/fr/nouvelles/" : "/news/",
  events: locale === "fr" ? "/fr/evenements/" : "/events/",
  rules: "/play/",
  contact: locale === "fr" ? "/fr/contact/" : "/contact/",
};
---
<footer class="site-footer">
  <div class="cols">
    <div>
      <h4>Quadball Canada</h4>
      <p>Â© {new Date().getFullYear()} Quadball Canada</p>
      <p>Charitable Registration Number: 820553188RR0001</p>
      <p><a href={routes.contact}>{copy.contactUs}</a></p>
    </div>
    <div>
      <h4>{copy.getInvolved}</h4>
      <ul>
        <li><a href={routes.teams}>{copy.findTeam}</a></li>
        <li><a href={routes.hostEvent}>{copy.hostEvent}</a></li>
        <li><a href={routes.levels}>{copy.levels}</a></li>
        <li><a href={routes.volunteer}>{copy.volunteer}</a></li>
      </ul>
    </div>
    <div>
      <h4>{copy.explore}</h4>
      <ul>
        <li><a href={routes.about}>{copy.about}</a></li>
        <li><a href={routes.news}>{copy.news}</a></li>
        <li><a href={routes.events}>{copy.events}</a></li>
        <li><a href={routes.rules}>{copy.rules}</a></li>
      </ul>
    </div>
    <div>
      <h4>{copy.followUs}</h4>
      <ul>
        <li><a target="_blank" rel="noopener" href="https://www.instagram.com/quadballcanada/?hl=en">Instagram</a></li>
        <li><a target="_blank" rel="noopener" href="https://www.tiktok.com/@quadballcanada">TikTok</a></li>
        <li><a target="_blank" rel="noopener" href="https://www.youtube.com/@QuadballCanada">YouTube</a></li>
        <li><a target="_blank" rel="noopener" href="https://www.facebook.com/QuadballCanada/">Facebook</a></li>
        <li><a target="_blank" rel="noopener" href="https://discord.gg/qK2cnSWmvF">Discord</a></li>
      </ul>
    </div>
  </div>
</footer>

<style>
  .site-footer {
    padding: 24px 0;
    color: var(--text);
    border-top: 1px solid var(--border);
  }
  .cols {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
  }
  h4 { margin: 0 0 8px; color: var(--text-strong); }
  a { color: var(--brand-primary); text-decoration: none; }
  ul { list-style: none; margin: 0; padding: 0; }
  li { margin: 6px 0; }
</style>
