---
import Layout from "../../layouts/Layout.astro";
import { getEvents, type Locale } from "../../utils/sanity";
import EventCard from "../../components/content/EventCard.astro";

const locale: Locale = "en";
const events = await getEvents(locale);
---

<Layout title="Events" alternate={{ en: "/events/", fr: "/fr/evenements/" }}>
  <section>
    <h1>Events</h1>
    <p><a class="btn-secondary" href="/events.ics">Add to Calendar (ICS)</a></p>
    {events.length ? events.map((e) => <EventCard event={e} />) : <p>No events yet.</p>}
  </section>

<style>
  .btn-secondary { color: var(--brand-primary); text-decoration: none; font-weight: 700; }
</style>
</Layout>
