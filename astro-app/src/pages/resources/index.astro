---
import Layout from "../../layouts/Layout.astro";
import ResourceCard from "../../components/content/ResourceCard.astro";
import { getResourceArticles, type Locale } from "../../utils/sanity";

const locale: Locale = "en";
const resources = await getResourceArticles(locale);
---

<Layout title="Resources" alternate={{ en: "/resources/", fr: "/fr/ressources/" }}>
  <section class="resources-section">
    <div class="resources-header">
      <h1>Resources</h1>
      <p>Helpful guides, tools, and information for the quadball community</p>
    </div>
    {resources.length ? (
      <div class="resources-list">
        {resources.map((resource) => <ResourceCard resource={resource} />)}
      </div>
    ) : (
      <p class="no-resources">No resources available yet.</p>
    )}
  </section>
</Layout>

<style>
  .resources-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-5) clamp(16px, 4vw, 40px);
  }

  .resources-header {
    margin-bottom: var(--space-6);
  }

  .resources-header h1 {
    font-family: var(--font-family-sans);
    font-size: var(--font-size-9);
    line-height: var(--line-height-8);
    font-weight: 800;
    margin: 0 0 var(--space-3);
  }

  .resources-header p {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-5);
    line-height: var(--line-height-4);
    color: var(--gray-700);
    margin: 0;
  }

  .resources-list {
    display: flex;
    flex-direction: column;
  }

  .no-resources {
    font-family: var(--font-family-serif);
    font-size: var(--font-size-4);
    color: var(--gray-600);
    text-align: center;
    padding: var(--space-8) 0;
  }

  @media (max-width: 800px) {
    .resources-header h1 {
      font-size: var(--font-size-7);
      line-height: var(--line-height-6);
    }

    .resources-header p {
      font-size: var(--font-size-4);
      line-height: var(--line-height-3);
    }
  }
</style>
