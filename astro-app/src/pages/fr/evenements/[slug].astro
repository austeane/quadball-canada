---
import type { InferGetStaticParamsType } from "astro";
import { getEvents } from "@/utils/sanity";
import EventDetail from "../../_shared/event-detail.astro";

export async function getStaticPaths() {
  const events = await getEvents("fr");
  return events.map((e) => ({ params: { slug: e.slug } }));
}

type Params = InferGetStaticParamsType<typeof getStaticPaths>;
const { slug } = Astro.params as Params;
---

<EventDetail slug={slug} locale="fr" />
